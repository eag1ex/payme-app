!function(l){function e(e){for(var t,n,a=e[0],i=e[1],o=e[2],s=0,r=[];s<a.length;s++)n=a[s],d[n]&&r.push(d[n][0]),d[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(m&&m(e);r.length;)r.shift()();return u.push.apply(u,o||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==d[o]&&(a=!1)}a&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var n={},d={0:0},u=[];function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=l,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var m=a;u.push([413,1]),c()}({28:function(e,t){e.exports={apiUrl:"https://blooming-journey-82987.herokuapp.com/api",server:"REAL_SERVER"}},306:function(e,t,n){},327:function(e,t,n){var a={"./af":120,"./af.js":120,"./ar":121,"./ar-dz":122,"./ar-dz.js":122,"./ar-kw":123,"./ar-kw.js":123,"./ar-ly":124,"./ar-ly.js":124,"./ar-ma":125,"./ar-ma.js":125,"./ar-sa":126,"./ar-sa.js":126,"./ar-tn":127,"./ar-tn.js":127,"./ar.js":121,"./az":128,"./az.js":128,"./be":129,"./be.js":129,"./bg":130,"./bg.js":130,"./bm":131,"./bm.js":131,"./bn":132,"./bn.js":132,"./bo":133,"./bo.js":133,"./br":134,"./br.js":134,"./bs":135,"./bs.js":135,"./ca":136,"./ca.js":136,"./cs":137,"./cs.js":137,"./cv":138,"./cv.js":138,"./cy":139,"./cy.js":139,"./da":140,"./da.js":140,"./de":141,"./de-at":142,"./de-at.js":142,"./de-ch":143,"./de-ch.js":143,"./de.js":141,"./dv":144,"./dv.js":144,"./el":145,"./el.js":145,"./en-SG":146,"./en-SG.js":146,"./en-au":147,"./en-au.js":147,"./en-ca":148,"./en-ca.js":148,"./en-gb":149,"./en-gb.js":149,"./en-ie":150,"./en-ie.js":150,"./en-il":151,"./en-il.js":151,"./en-nz":152,"./en-nz.js":152,"./eo":153,"./eo.js":153,"./es":154,"./es-do":155,"./es-do.js":155,"./es-us":156,"./es-us.js":156,"./es.js":154,"./et":157,"./et.js":157,"./eu":158,"./eu.js":158,"./fa":159,"./fa.js":159,"./fi":160,"./fi.js":160,"./fo":161,"./fo.js":161,"./fr":162,"./fr-ca":163,"./fr-ca.js":163,"./fr-ch":164,"./fr-ch.js":164,"./fr.js":162,"./fy":165,"./fy.js":165,"./ga":166,"./ga.js":166,"./gd":167,"./gd.js":167,"./gl":168,"./gl.js":168,"./gom-latn":169,"./gom-latn.js":169,"./gu":170,"./gu.js":170,"./he":171,"./he.js":171,"./hi":172,"./hi.js":172,"./hr":173,"./hr.js":173,"./hu":174,"./hu.js":174,"./hy-am":175,"./hy-am.js":175,"./id":176,"./id.js":176,"./is":177,"./is.js":177,"./it":178,"./it-ch":179,"./it-ch.js":179,"./it.js":178,"./ja":180,"./ja.js":180,"./jv":181,"./jv.js":181,"./ka":182,"./ka.js":182,"./kk":183,"./kk.js":183,"./km":184,"./km.js":184,"./kn":185,"./kn.js":185,"./ko":186,"./ko.js":186,"./ku":187,"./ku.js":187,"./ky":188,"./ky.js":188,"./lb":189,"./lb.js":189,"./lo":190,"./lo.js":190,"./lt":191,"./lt.js":191,"./lv":192,"./lv.js":192,"./me":193,"./me.js":193,"./mi":194,"./mi.js":194,"./mk":195,"./mk.js":195,"./ml":196,"./ml.js":196,"./mn":197,"./mn.js":197,"./mr":198,"./mr.js":198,"./ms":199,"./ms-my":200,"./ms-my.js":200,"./ms.js":199,"./mt":201,"./mt.js":201,"./my":202,"./my.js":202,"./nb":203,"./nb.js":203,"./ne":204,"./ne.js":204,"./nl":205,"./nl-be":206,"./nl-be.js":206,"./nl.js":205,"./nn":207,"./nn.js":207,"./pa-in":208,"./pa-in.js":208,"./pl":209,"./pl.js":209,"./pt":210,"./pt-br":211,"./pt-br.js":211,"./pt.js":210,"./ro":212,"./ro.js":212,"./ru":213,"./ru.js":213,"./sd":214,"./sd.js":214,"./se":215,"./se.js":215,"./si":216,"./si.js":216,"./sk":217,"./sk.js":217,"./sl":218,"./sl.js":218,"./sq":219,"./sq.js":219,"./sr":220,"./sr-cyrl":221,"./sr-cyrl.js":221,"./sr.js":220,"./ss":222,"./ss.js":222,"./sv":223,"./sv.js":223,"./sw":224,"./sw.js":224,"./ta":225,"./ta.js":225,"./te":226,"./te.js":226,"./tet":227,"./tet.js":227,"./tg":228,"./tg.js":228,"./th":229,"./th.js":229,"./tl-ph":230,"./tl-ph.js":230,"./tlh":231,"./tlh.js":231,"./tr":232,"./tr.js":232,"./tzl":233,"./tzl.js":233,"./tzm":234,"./tzm-latn":235,"./tzm-latn.js":235,"./tzm.js":234,"./ug-cn":236,"./ug-cn.js":236,"./uk":237,"./uk.js":237,"./ur":238,"./ur.js":238,"./uz":239,"./uz-latn":240,"./uz-latn.js":240,"./uz.js":239,"./vi":241,"./vi.js":241,"./x-pseudo":242,"./x-pseudo.js":242,"./yo":243,"./yo.js":243,"./zh-cn":244,"./zh-cn.js":244,"./zh-hk":245,"./zh-hk.js":245,"./zh-tw":246,"./zh-tw.js":246};function i(e){var t=o(e);return n(t)}function o(e){if(n.o(a,e))return a[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=327},365:function(e,t,n){var a=n(366);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("3c90df5f",a,!0,{})},366:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.md-card[data-v-7344be40] {\n  background: unset !important;\n  box-shadow: unset !important;\n  margin: 4px;\n  display: inline-block;\n  vertical-align: top;\n}\n.md-card span.logo[data-v-7344be40] {\n    font-weight: bold;\n}\n",""])},367:function(e,t,n){var a=n(368);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("033c8610",a,!0,{})},368:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.dollar[data-v-64434688] {\n  width: 100%;\n  height: auto;\n  user-select: none;\n  font-size: 16px;\n  font-size: 13.5vw;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.1);\n}\n.dollar > p[data-v-64434688] {\n    display: block;\n    line-height: 0px;\n    position: absolute;\n    top: -24%;\n}\n.md-card-actions[data-v-64434688] {\n  position: relative;\n  top: 80px;\n  left: -15px;\n}\n.md-field[data-v-64434688]:last-child {\n  margin-bottom: 40px;\n}\n",""])},393:function(e,t,n){var a=n(394);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("7598d698",a,!0,{})},394:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"",""])},397:function(e,t,n){var a=n(398);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("ecd52564",a,!0,{})},398:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.md-card-header .md-subhead[data-v-50e84d34] {\n  font-size: 27px;\n  line-height: 40px;\n  color: #fff;\n}\n.md-card-header .md-subhead.for-date[data-v-50e84d34] {\n    font-size: 15px;\n}\n.md-card-header .md-subhead > span[data-v-50e84d34] {\n    opacity: 0.5;\n}\n.md-card[data-v-50e84d34] {\n  margin-bottom: -30px !important;\n  background: unset !important;\n  box-shadow: unset !important;\n  margin: 4px;\n  display: inline-block;\n  vertical-align: top;\n}\n.md-card .md-card-actions[data-v-50e84d34] {\n    position: relative;\n    top: 50px;\n    left: -20px;\n}\n.dollar[data-v-50e84d34] {\n  width: 100%;\n  height: auto;\n  user-select: none;\n  font-size: 16px;\n  font-size: 8.5vw;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.1);\n}\n.dollar > p[data-v-50e84d34] {\n    display: block;\n    line-height: 0px;\n    position: absolute;\n    top: -20%;\n}\n",""])},399:function(e,t,n){var a=n(400);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("bc11fe08",a,!0,{})},400:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"",""])},401:function(e,t,n){var a=n(402);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("ab9191ba",a,!0,{})},402:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"",""])},403:function(e,t,n){var a=n(404);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("279658d9",a,!0,{})},404:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n#progress-spinner-wrap .trans-bg[data-v-4030b507] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(48, 48, 48, 0.7);\n  position: fixed;\n  left: 0;\n  top: 0;\n}\n#progress-spinner-wrap .md-progress-spinner[data-v-4030b507] {\n  z-index: 1111;\n  top: 35%;\n  left: 50%;\n  right: 50%;\n  position: fixed;\n}\n",""])},405:function(e,t,n){var a=n(406);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("5e433af8",a,!0,{})},406:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.md-scrollbar ul.md-list {\n  background: #212121 !important;\n}\n",""])},407:function(e,t,n){var a=n(408);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("283e11c4",a,!0,{})},408:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.md-menu-content[data-v-57d6720d] {\n  top: 57px !important;\n}\n.pusher[data-v-57d6720d] {\n  height: 64px;\n  width: 64px;\n  visibility: hidden;\n}\n.main-logo[data-v-57d6720d] {\n  font-weight: bold;\n}\n.md-button a[data-v-57d6720d],\n.md-button a[data-v-57d6720d]:link,\n.md-button a[data-v-57d6720d]:hover,\n.md-list a[data-v-57d6720d],\n.md-list a[data-v-57d6720d]:link,\n.md-list a[data-v-57d6720d]:hover {\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: unset !important;\n}\n.md-toolbar[data-v-57d6720d] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n}\n.md-toolbar .md-toolbar-section-start.absolute[data-v-57d6720d] {\n    position: absolute;\n    left: 0;\n}\n",""])},409:function(e,t,n){var a=n(410);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("1790a7d2",a,!0,{})},410:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"",""])},411:function(e,t,n){var a=n(412);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(15).default)("0fa771b2",a,!0,{})},412:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\nfooter .right[data-v-53192668] {\n  text-align: right;\n  clear: both;\n  float: right;\n}\nfooter small[data-v-53192668] {\n  clear: both;\n  color: #ccc;\n}\nfooter footer > div > small[data-v-53192668]::nth-child(2) {\n  color: #aaa !important;\n}\n",""])},413:function(e,t,n){"use strict";n.r(t);var a=n(27),p=n.n(a),i=(n(279),n(287),n(300),n(303),n(28)),o=n.n(i),s=n(12),r=n(268),l=n(269),c=n.n(l),d=(n(306),n(10)),u={namespaced:!0,state:{type:null,message:null},actions:{success:function(e,t){(0,e.commit)("success",t)},error:function(e,t){(0,e.commit)("error",t)},clear:function(e,t){(0,e.commit)("success",t)}},mutations:{success:function(e,t){e.type="alert-success w-50 bg-primary",e.message=t,setTimeout(function(){e.type=null,e.message=null},3e3)},error:function(e,t){e.type="alert-danger bg-danger w-50",e.message=t},clear:function(e){e.type=null,e.message=null}}},m=n(277),v=(n(88),n(11)),f=(n(89),n(43),n(91),n(0));var h={niceDate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return f(e).format("DD-MM-YY, h:mm:ss a")}},g=n(17),b=n.n(g),j=n(5);n(346);function _(e){return e.json().then(function(e){console.log("-- handleResponse"),console.log("--",p()(e,!1,1)),console.log("-- END");var t=e.response;if(e.success)return t;401===e.status&&window.location.reload(!0);var n=e&&e.message||e.statusText;return b.a.reject(n)},function(e){return b.a.reject(e)}).catch(function(e){return console.log("handleResponse error->",e),b.a.reject(e)})}var y={addInvoice:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:p()(e)};return fetch("".concat(o.a.apiUrl,"/invoices/add"),t).then(_)},getAll:function(){return fetch("".concat(o.a.apiUrl,"/allInvoices"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(_)},getOneItem:function(e){return fetch("".concat(o.a.apiUrl,"/invoice/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(_)},delete:function(e){var t=encodeURIComponent(e.toString());if(Object(j.isEmpty)(t))throw"[_delete] ids are empty";return fetch("".concat(o.a.apiUrl,"/invoices/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(_)}},w=JSON.parse(localStorage.getItem("invoices")),x={namespaced:!0,state:w?{status:{loggedIn:!0},invoices:w}:{status:{},invoices:null},actions:{getAll:function(e){var t=e.dispatch,n=e.commit;n("getAllRequest"),y.getAll().then(function(e){return n("getAllSuccess",e)},function(e){n("getAllFailure",e),t("alert/error",e,{root:!0})})},getOneItem:function(e,t){var n=e.dispatch,a=e.commit;a("getOneItemRequest",t),y.getOneItem(t).then(function(e){return a("getOneItemSuccess",e)},function(e){a("getOneItemFailure",e),n("alert/error",e,{root:!0})})},addInvoice:function(e,t){var n=e.dispatch,a=e.commit;a("addInvoiceRequest",t),y.addInvoice(t).then(function(e){a("addInvoiceSuccess",e),setTimeout(function(){n("alert/success","New Invoice Added",{root:!0})})},function(e){a("addInvoiceFailure",e),n("alert/error",e,{root:!0})})},delete:function(e,t){var n=e.commit;n("deleteRequest",t),y.delete(t).then(function(){return n("deleteSuccess",t)},function(e){return n("deleteSuccess",{id:t,error:e.toString()})})}},mutations:{getOneItemRequest:function(e){e.all={loading:!0}},getOneItemSuccess:function(e,t){e.all={invoice:t}},getOneItemFailure:function(e,t){e.all={error:t}},getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={invoices:t}},getAllFailure:function(e,t){e.all={error:t}},addInvoiceRequest:function(e){e.status={adding:!0}},addInvoiceSuccess:function(e){e.status={}},addInvoiceFailure:function(e){e.status={}},deleteRequest:function(e,t){e.all.invoices=e.all.invoices.map(function(e){return e.id===t?Object(v.a)({},e,{deleting:!0}):e})},deleteSuccess:function(e,t){e.all.invoices=e.all.invoices.filter(function(e){return e.id!==t})},deleteFailure:function(e,t){var n=t.id,a=t.error;e.all.invoices=e.invoices.map(function(e){if(e.id!==n)return e;e.deleting;var t=Object(m.a)(e,["deleting"]);return Object(v.a)({},t,{deleteError:a})})}}};s.default.use(d.a);var C=new d.a.Store({modules:{alert:u,invoice:x}}),k=n(276),I=(n(24),n(257),n(261),n(45),n(263),n(25),n(26),[{id:1,name:"Odette Demageard",value:300,email:"john.doe@email.com",date:(new Date).getTime()},{id:2,name:"Vera Taleworth",value:1235,email:"john.doe@email.com",date:(new Date).getTime()},{id:3,name:"Lonnie Izkovitz",value:1235,email:"john.doe@email.com",date:(new Date).getTime()},{id:4,name:"Thatcher Stave",value:3456,email:"john.doe@email.com",date:(new Date).getTime()},{id:5,name:"Karim Chipping",value:5676,email:"john.doe@email.com",date:(new Date).getTime()},{id:6,name:"Helge Holyard",value:6789,email:"john.doe@email.com",date:(new Date).getTime()},{id:7,name:"Rod Titterton",value:5678,email:"john.doe@email.com",date:(new Date).getTime()},{id:8,name:"Gawen Applewhite",value:5678,email:"john.doe@email.com",date:(new Date).getTime()},{id:9,name:"Nero Mulgrew",value:579,email:"john.doe@email.com",date:(new Date).getTime()},{id:10,name:"Cybill Rimington",value:2356,email:"john.doe@email.com",date:(new Date).getTime()},{id:11,name:"Shawna Dubbin",value:1235,email:"john.doe@email.com",date:(new Date).getTime()}]);var O=n(96),T=n(2);var E=function(e){n(365)},S=Object(T.a)({name:"HomePage",data:function(){return{loading:!0}},created:function(){this.loading=!1},methods:{goTo:function(){this.$router.push("/create")}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-inverse m-2 p-3",attrs:{id:"template-home"}},[n("spinner",{attrs:{appLoading:t.loading}}),t._v(" "),t.loading?t._e():n("md-card",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 col-md-8 col-lg-10 mt-4"},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("\n          Welcome to\n          "),n("span",{staticClass:"text-secondary logo"},[t._v("$PAYME")]),t._v(" Application\n        ")])]),t._v(" "),n("md-card-content",[t._v("\n        This is an invoice application,\n        you can create, or view already existing invoices.\n      ")]),t._v(" "),n("md-card-actions",{attrs:{"md-alignment":"space-between"}},[n("md-button",{staticClass:"md-raised ml-2 my-3 md-primary",on:{click:function(e){return t.goTo()}}},[t._v("Create Invoice")])],1)],1)])],1)},[],!1,E,"data-v-7344be40",null).exports,$=n(275),D=n(36),z={name:"CreateNewInvoice",mixins:[$.validationMixin],data:function(){return{form:{name:null,value:null,date:null,email:null},loading:!0,invoiceSaved:!1,sending:!1,lastInvoice:null,date:(new Date).getTime()}},validations:{form:{name:{required:D.required},value:{required:D.required,integer:D.integer},email:{required:D.required,email:D.email},date:{required:D.required}}},created:function(){var n=this;this.loading=!1,this.$store.subscribe(function(e,t){e.type.includes("invoice/addInvoiceSuccess")&&(n.$router.push("/list"),n.lastInvoice="".concat(n.form.name,", $").concat(n.form.value),n.invoiceSaved=!0,n.sending=!1,n.clearForm()),e.type.includes("invoice/addInvoiceFailure")&&(n.sending=!1,n.loading=!1)},function(e){console.log("on subscribe err")})},methods:Object(v.a)({},Object(d.b)("invoice",{addInvoice:"addInvoice"}),{goBack:function(){this.$router.push("/list")},getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},niceDate:function(e){return h.niceDate(e)},clearForm:function(){this.$v.$reset(),this.form.name=null,this.form.value=null,this.form.date=null,this.form.email=null,this.date=(new Date).getTime()},saveInvoice:function(){var t=this;this.loading=!0,setTimeout(function(){var e=Object(j.cloneDeep)(t.form);t.addInvoice(e),t.sending=!0},300)},validateInvoice:function(){this.form.date=this.date,this.$v.$touch(),this.$v.$invalid||this.saveInvoice()}})};var A=function(e){n(367)},q=Object(T.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-inverse m-2 p-3",attrs:{id:"template-create"}},[n("top-title",{attrs:{title:"New Invoice"}}),t._v(" "),n("spinner",{attrs:{"app-loading":t.loading}}),t._v(" "),t.loading?t._e():n("div",[n("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateInvoice(e)}}},[n("div",{staticClass:"row w-100"},[t._m(0),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-10 col-lg-10"},[n("md-field",{class:t.getValidationClass("name")},[n("label",[t._v("Name")]),t._v(" "),n("md-input",{attrs:{id:"full-name",name:"full-name",autocomplete:"given-name",disabled:t.sending},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.$v.form.name.required?t._e():n("span",{staticClass:"md-error"},[t._v("required")])],1),t._v(" "),n("md-field",{class:t.getValidationClass("value")},[n("label",[t._v("Value")]),t._v(" "),n("span",{staticClass:"md-prefix"},[t._v("$")]),t._v(" "),n("md-input",{attrs:{id:"amount-value",name:"amount-value",autocomplete:"given-amount",disabled:t.sending},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",t._n(e))},expression:"form.value"}}),t._v(" "),t.$v.form.value.required?t._e():n("span",{staticClass:"md-error"},[t._v("required")])],1),t._v(" "),n("md-field",{class:t.getValidationClass("email")},[n("label",[t._v("Email")]),t._v(" "),n("md-input",{attrs:{id:"alue",name:"email",autocomplete:"given-email",disabled:t.sending},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),t.$v.form.email.required?t._e():n("span",{staticClass:"md-error"},[t._v("required")])],1),t._v(" "),n("md-field",[n("label",[n("span",{staticClass:"md-caption"},[t._v("Date: "+t._s(t.niceDate(t.date)))])])])],1)]),t._v(" "),n("md-card-actions",{staticClass:"pl-0"},[n("md-button",{staticClass:"md-primary p-0 ml-0 md-raised",attrs:{type:"submit",disabled:t.sending}},[t._v("\nSend Invoice\n")]),t._v(" "),n("md-button",{staticClass:"md-secondary p-0 mx-3",on:{click:function(e){return t.goBack()}}},[t._v("\nBack\n")])],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"hidden"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),t._v(" "),n("md-snackbar",{attrs:{"md-active":t.invoiceSaved},on:{"update:mdActive":function(e){t.invoiceSaved=e},"update:md-active":function(e){t.invoiceSaved=e}}},[t._v("\nInvoice "+t._s(t.lastInvoice)+" saved!\n")])],1)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-2 d-none d-sm-none d-md-block"},[t("div",{staticClass:"dollar"},[t("p",[this._v("$")])])])}],!1,A,"data-v-64434688",null).exports,N=(n(267),n(396),function(e){return e.toString().toLowerCase()}),L={name:"ListPage",props:["appStatus"],data:function(){return{search:null,searched:[],invoices:[],loading:!0,selected:[]}},created:function(){var n=this;this.getAllInvoices(),this.$store.subscribe(function(e,t){e.type.includes("invoice/getAllSuccess")&&(n.searched=n.invoices=e.payload||[],setTimeout(function(){n.loading=!1},500)),e.type.includes("invoice/deleteSuccess")&&(n.loading=!0,n.getAllInvoices())})},methods:Object(v.a)({},Object(d.b)("invoice",{getAllInvoices:"getAll",deleteInvoice:"delete"}),{goTo:function(){this.$router.push("/create")},goToItem:function(e){e.id&&this.$router.push("/item/".concat(e.id))},printValue:function(e){return"$"+Number(e).toFixed(2)},niceDate:function(e){return f(e).format("DD-MM-YY, h:mm:ss a")},newInvoice:function(){window.alert("Noop")},removeInvoice:function(){var e=Object(j.cloneDeep)(this.selected)||[];if(e.length){var t=e.map(function(e){return Number(e.id)});this.deleteInvoice(t),this.selected=[]}else window.alert("bug.. try re-selecting again"),this.selected=[]},searchByAny:function(e,t){var n=this;if(t){var a=e.filter(function(e){return N(e.name).includes(N(t))});if(!Object(j.isEmpty)(a))return a;var i=e.filter(function(e){return N(e.email).includes(N(t))});if(!Object(j.isEmpty)(i))return i;var o=e.filter(function(e){return-1!==n.niceDate(e.date||"").toString().indexOf(t)});if(!Object(j.isEmpty)(o))return o;var s=e.filter(function(e){return N((e.value||"").toString()).includes(N(t))});return Object(j.isEmpty)(s)?[]:s}return e},searchOnTable:function(){this.searched=this.searchByAny(this.invoices,this.search)},onSelect:function(e){this.selected=e},getAltLabel:function(e){var t="";return 1<e&&(t="s"),"".concat(e," item").concat(t," selected")}})};var R=function(e){n(393)},M=Object(T.a)(L,function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"bg-inverse m-2 p-3",attrs:{id:"template-list"}},[a("top-title",{attrs:{location:"/create",title:"Invoices"}}),n._v(" "),a("spinner",{attrs:{appLoading:n.loading}}),n._v(" "),n.loading?n._e():a("md-table",{attrs:{"md-sort":"name","md-sort-order":"asc","md-card":"","md-fixed-header":""},on:{"md-selected":n.onSelect},scopedSlots:n._u([{key:"md-table-alternate-header",fn:function(e){var t=e.count;return a("md-table-toolbar",{},[a("div",{staticClass:"md-toolbar-section-start"},[n._v(n._s(n.getAltLabel(t)))]),n._v(" "),a("div",{staticClass:"md-toolbar-section-end",on:{click:function(e){return n.removeInvoice()}}},[a("md-button",{staticClass:"md-icon-button"},[a("md-icon",[n._v("delete")])],1)],1)])}},{key:"md-table-row",fn:function(e){var t=e.item;return a("md-table-row",{staticClass:"row-item",attrs:{"md-selectable":"multiple","md-auto-select":"","md-with-hover":""},on:{click:function(e){return n.goToItem(t)}}},[a("md-table-cell",{attrs:{"md-label":"ID","md-sort-by":"id","md-numeric":""}},[n._v(n._s(t.id))]),n._v(" "),a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[n._v(n._s(t.name))]),n._v(" "),a("md-table-cell",{attrs:{"md-label":"Value","md-sort-by":"value"}},[n._v(n._s(n.printValue(t.value)))]),n._v(" "),a("md-table-cell",{attrs:{"md-label":"Email","md-sort-by":"email"}},[n._v(n._s(t.email))]),n._v(" "),a("md-table-cell",{attrs:{"md-label":"Date","md-sort-by":"date"}},[n._v(n._s(n.niceDate(t.date)))])],1)}}]),model:{value:n.searched,callback:function(e){n.searched=e},expression:"searched"}},[n._v(" "),a("md-table-toolbar",[a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search name, value, email or date"},on:{input:n.searchOnTable},model:{value:n.search,callback:function(e){n.search=e},expression:"search"}})],1)],1),n._v(" "),a("md-table-empty-state",{attrs:{"md-label":"No invoices found","md-description":"Try a different search, or create a new invoice."}},[a("md-button",{staticClass:"md-primary md-raised",on:{click:function(e){return n.goTo()}}},[n._v("Create New Invoice")])],1)],1)],1)},[],!1,R,"data-v-5fa36b3e",null).exports,F={name:"ListItemPage",data:function(){return{item:{name:null,value:null,date:null,email:null},loading:!0}},computed:Object(v.a)({},Object(d.c)({invoice:function(e){return e.invoice}}),{date:{get:function(){return(new Date).getTime()}}}),created:function(){var n=this,a=Number(this.$route.params.name),e=(!Object(j.isEmpty)(this.invoice.all)?this.invoice.all.invoices:[]).reduce(function(e,t,n){return a===Number(t.id)&&(e=t),e},{});Object(j.isEmpty)(e)?(this.getOne(a),this.$store.subscribe(function(e,t){e.type.includes("invoice/getOneItemSuccess")&&(n.item=e.payload[0]||null,n.item,setTimeout(function(){n.loading=!1},500)),e.type.includes("invoice/getOneItemFailure")&&(n.loading=!1)},function(e){})):(this.item=e,this.loading=!1)},methods:Object(v.a)({},Object(d.b)("invoice",{getOne:"getOneItem"}),{goTo:function(){this.$router.push("/create")},goBack:function(){this.$router.push("/list")},niceDate:function(e){return h.niceDate(e)},printValue:function(e){return Number(e).toFixed(2)}})};var P=function(e){n(397)},V=Object(T.a)(F,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-inverse m-2 p-3",attrs:{id:"template-list-item"}},[n("top-title",{attrs:{location:"/create",title:"Invoice Send"}}),t._v(" "),n("spinner",{attrs:{appLoading:t.loading}}),t._v(" "),!t.loading&&t.item?n("md-card",{staticClass:"w-100",attrs:{"md-with-hover":""}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-1 d-none d-sm-none d-md-block"},[n("div",{staticClass:"dollar"},[n("p",[t._v("$")])])]),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-11 col-lg-11"},[n("md-ripple",[n("md-card-header",[n("div",{staticClass:"md-subhead"},[n("span",[t._v("For:")]),t._v("\n              "+t._s(t.item.name)+"\n            ")]),t._v(" "),n("div",{staticClass:"md-subhead"},[n("span",[t._v("Amount:")]),t._v("\n              $"+t._s(t.printValue(t.item.value))+"\n            ")]),t._v(" "),n("div",{staticClass:"md-subhead"},[n("span",[t._v("Email:")]),t._v("\n              "+t._s(t.item.email)+"\n            ")]),t._v(" "),n("div",{staticClass:"md-subhead for-date"},[n("span",[t._v("Date:")]),t._v("\n              "+t._s(t.niceDate(t.item.date))+"\n            ")])])],1)],1)]),t._v(" "),n("md-card-actions",{staticClass:"pl-0",attrs:{"md-alignment":"space-between"}},[n("md-button",{staticClass:"md-secondary p-0 ml-0 md-raised",on:{click:function(e){return t.goBack()}}},[t._v("back")])],1)],1):t._e()],1)},[],!1,P,"data-v-50e84d34",null).exports;var B=function(e){n(399)},U=Object(T.a)({name:"page404",data:function(){return{message:"404, ups.. page not found"}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"bg-inverse m-2 p-3",attrs:{id:"template-list-item"}},[n("div",{staticClass:"w-100"},[n("h1",{staticClass:"md-headline mb-2"},[e._v(e._s(e.message))])]),e._v(" "),n("p",[n("router-link",{attrs:{to:"/Home"}},[e._v("Home")])],1)])])},[],!1,B,"data-v-cdf66ff2",null).exports;s.default.use(O.a);var G=new O.a({mode:"history",routes:[{path:"/",component:S},{path:"/create",component:q},{path:"/list",component:M},{path:"/item/:name",component:V},{path:"/404",component:U},{path:"/home",redirect:"/"},{path:"*",redirect:"/404"}]});G.beforeEach(function(e,t,n){n()});var H={name:"app",data:function(){return{loading:!0}},computed:Object(v.a)({},Object(d.c)({alert:function(e){return e.alert}})),methods:Object(v.a)({},Object(d.b)({clearAlert:"alert/clear"})),created:function(){var e=this;setTimeout(function(){e.loading=!1,window.document.getElementById("start-app-preloader").style.display="none",window.document.getElementById("app-payme").style.visibility="visible"},1300)},watch:{$route:function(e,t){this.clearAlert()}}};var Y=function(e){n(401)},J=Object(T.a)(H,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-payme"}},[n("top-nav"),e._v(" "),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row d-flex justify-content-center"},[n("div",{staticClass:"col-sm-12 col-md-8 col-lg-10"},[e.alert.message?n("div",{class:"alert "+e.alert.type+" p-3"},[e._v(e._s(e.alert.message))]):e._e(),e._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)])]),e._v(" "),n("footer-small",{attrs:{loading:e.loading}})],1)},[],!1,Y,"data-v-6084d44e",null).exports,W={name:"progress-spinner",props:["appLoading"],created:function(){console.log("---appLoading")},watch:{appLoading:function(e){}}};var K=function(e){n(403)},Q=Object(T.a)(W,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.appLoading?n("div",{attrs:{id:"progress-spinner-wrap"}},[n("md-progress-spinner",{staticClass:"d-flex justify-content-center mt-5 bg-secondary",attrs:{"md-diameter":100,"md-stroke":10,"md-mode":"indeterminate"}}),e._v(" "),n("div",{staticClass:"trans-bg"})],1):e._e()},[],!1,K,"data-v-4030b507",null).exports;var X=function(e){n(405),n(407)},Z=Object(T.a)({name:"top-nav"},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-toolbar",{staticClass:"w-100 d-flex justify-content-center"},[n("div",{staticClass:"md-toolbar-section-start w-auto absolute mx-2"},[n("md-menu",{staticClass:"d-block d-none d-sm-block d-md-none md-menu-mobi",attrs:{"md-direction":"bottom-start"}},[n("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[n("md-icon",[e._v("menu")])],1),e._v(" "),n("md-menu-content",{staticClass:"d-block d-none d-sm-block d-md-none"},[n("md-menu-item",[n("router-link",{attrs:{to:"/home"}},[e._v("Home")])],1),e._v(" "),n("md-menu-item",[n("router-link",{attrs:{to:"/list"}},[e._v("Invoices")])],1),e._v(" "),n("md-menu-item",[n("router-link",{attrs:{to:"/create"}},[e._v("Create Invoice")])],1)],1)],1),e._v(" "),n("router-link",{staticClass:"md-title main-logo pl-0 ml-3 mt-1",attrs:{to:"/home"}},[e._v("$PAYME")])],1),e._v(" "),n("md-button",{staticClass:"mx-2 d-none d-sm-none d-md-block"},[n("router-link",{attrs:{to:"/home"}},[e._v("Home")])],1),e._v(" "),n("md-button",{staticClass:"mx-2 d-none d-sm-none d-md-block"},[n("router-link",{attrs:{to:"/list"}},[e._v("Invoices")])],1),e._v(" "),n("md-button",{staticClass:"mx-2 d-none d-sm-none d-md-block"},[n("router-link",{attrs:{to:"/create"}},[e._v("Create Invoice")])],1)],1),e._v(" "),n("div",{staticClass:"pusher"})],1)},[],!1,X,"data-v-57d6720d",null).exports;var ee=function(e){n(409)},te=Object(T.a)({name:"top-title",props:["title","location"],data:function(){return{defaultTitle:"default"}},methods:{goTo:function(){this.$router.push("".concat(this.location))}},created:function(){this.title||(this.title=this.defaultTitle)}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-100"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h1",{staticClass:"md-headline my-3"},[t._v(t._s(t.title))]),t._v(" "),t.location?n("md-button",{staticClass:"md-raised mx-0 my-3 md-primary",on:{click:function(e){return t.goTo()}}},[t._v("Create Invoice")]):t._e()],1)])},[],!1,ee,"data-v-45f5e9f0",null).exports;var ne,ae=function(e){n(411)},ie=Object(T.a)({name:"footer-small",props:["loading"],created:function(){}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?e._e():n("div",{staticClass:"container-fluid mb-3"},[e._m(0)])},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"row d-flex justify-content-center mt-3"},[n("div",{staticClass:"col-sm-12 col-md-8 col-lg-10 mt-3 right"},[n("small",{staticClass:"pr-2 right"},[e._v("$PAYME - Invoice Application")]),e._v(" "),n("small",{staticClass:"pr-2 right"},[n("i",[e._v("Creative Common License.")]),e._v(" ©Copyright 2019\n      ")])])])}],!1,ae,"data-v-53192668",null).exports;s.default.component("spinner",Q),s.default.component("top-nav",Z),s.default.component("top-title",te),s.default.component("footer-small",ie),s.default.use(r.a),s.default.use(c.a),console.log("-- config"),console.log("-- ",p()(o.a,!1,1)),console.log("-- END"),"LOCAL_SERVER"===o.a.server&&(ne=window.fetch,window.fetch=function(v,f){return new b.a(function(u,m){setTimeout(function(){if(console.log("calling url",v,f.method),v.includes("invoice/")&&!v.includes("allInvoices")&&"GET"===f.method){var a=v.split("/");if((a=a[a.length-1])&&(a=Number(a)),!a)return m("no id found");var e=I.reduce(function(e,t,n){return t.id===a&&e.push(t),e},[]);if(!e.length)return m("no result found");var t={response:e,success:!0};return u({json:function(){return b.a.resolve(t)}})}if(v.includes("allInvoices")&&"GET"===f.method){var n={response:I,success:!0};return u({json:function(){return b.a.resolve(n)}})}if(v.endsWith("/invoices/add")&&"POST"===f.method){var i=JSON.parse(f.body);if(Object(j.isEmpty)(i))return m("invoices/add request is empty");if(I.filter(function(e){return e.name===i.name}).length)return m('Invoice "'+i.name+'" is already taken');i.id=I.length?Math.max.apply(Math,Object(k.a)(I.map(function(e){return e.id})))+1:1,I.push(i),localStorage.setItem("invoices",p()(I));var o={response:!0,success:!0};return u({json:function(){return b.a.resolve(o)}})}if(v.includes("invoices/")&&"DELETE"===f.method){var s=v.split("/"),r=decodeURIComponent(s[s.length-1]).split(",");if(!r.length)return m("no ids found");for(var l=function(t){r.filter(function(e){return Number(e)===I[t].id&&(console.log("removing ",I[t]),I.splice(t,1),localStorage.setItem("invoices",p()(I))),!0})},c=0;c<I.length;c++)l(c);var d={response:!0,success:!0};return u({json:function(){return b.a.resolve(d)}})}ne(v,f).then(function(e){return u(e)})},500)})});new s.default({el:"#app",router:G,store:C,render:function(e){return e(J)},renderError:function(e,t){return e("pre",{style:{color:"red"}},t.stack)}})}});
//# sourceMappingURL=app.0ee15d0c.js.map